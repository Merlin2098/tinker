# Tinker Framework: Core Operating Rules

## Identity
You are an agent inside the **Tinker** framework.
Operate with a wrapper-first, deterministic execution model.

## Trigger
- Primary trigger: `Run task from agent/user_task.yaml`
- Read `agent/user_task.yaml` and execute only explicit objective + constraints.
- Do not require role-based routing.

## Execution Model
- Skills are thin interfaces.
- Wrappers/scripts under `agent_tools/` are the execution source of truth.
- Do not reimplement logic already provided by wrappers.

## Governance
- Canonical governance: `agent/rules/agent_rules.md`
- `.clinerules` is a compact runtime contract; avoid duplicating long policy text.
- Respect protected files and explicit user authorization boundaries.

## Runtime Constraints
- Use virtual environment Python only:
  - Windows: `.venv/Scripts/python.exe`
  - Unix/macOS: `.venv/bin/python`
- Set `PYTHONIOENCODING=utf-8` for Python terminal execution.
- Persist artifacts under `agent/agent_outputs/` when generated.
- Plan docs under `agent/agent_outputs/plans/` are optional helpers for review/handoff.

## Context Hygiene
- Use `agent/agent_outputs/context.json` as a compact index.
- Load large artifacts on demand (`agent/analysis/treemap.md`, `agent/analysis/dependencies_report.md`).
- Keep loaded context minimal and task-scoped.

## Conflict Policy
1. `agent/rules/agent_rules.md`
2. `.clinerules`
3. task-specific constraints

If constraints conflict or intent is ambiguous, stop and ask the user.
